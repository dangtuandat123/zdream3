[2026-01-28 14:31:19] local.ERROR: SQLSTATE[HY000]: General error: 1005 Can't create table `zdream`.`generated_images` (errno: 150 "Foreign key constraint is incorrectly formed") (Connection: mysql, Host: 127.0.0.1, Port: 3306, Database: zdream, SQL: alter table `generated_images` add constraint `generated_images_style_id_foreign` foreign key (`style_id`) references `styles` (`id`)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1005 Can't create table `zdream`.`generated_images` (errno: 150 \"Foreign key constraint is incorrectly formed\") (Connection: mysql, Host: 127.0.0.1, Port: 3306, Database: zdream, SQL: alter table `generated_images` add constraint `generated_images_style_id_foreign` foreign key (`style_id`) references `styles` (`id`)) at D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php:838)
[stacktrace]
#0 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(794): Illuminate/Database/Connection->runQueryCallback('alter table `ge...', Array, Object(Closure))
#1 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(573): Illuminate/Database/Connection->run('alter table `ge...', Array, Object(Closure))
#2 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Blueprint.php(121): Illuminate/Database/Connection->statement('alter table `ge...')
#3 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php(684): Illuminate/Database/Schema/Blueprint->build()
#4 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php(506): Illuminate/Database/Schema/Builder->build(Object(Illuminate/Database/Schema/Blueprint))
#5 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(363): Illuminate/Database/Schema/Builder->create('generated_image...', Object(Closure))
#6 D:/Workspace/zdream.vn3/backend/database/migrations/2026_01_28_142934_create_generated_images_table.php(11): Illuminate/Support/Facades/Facade::__callStatic('create', Array)
#7 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(517): Illuminate/Database/Migrations/Migration@anonymous->up()
#8 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(442): Illuminate/Database/Migrations/Migrator->runMethod(Object(Illuminate/Database/MySqlConnection), Object(Illuminate/Database/Migrations/Migration@anonymous), 'up')
#9 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(451): Illuminate/Database/Migrations/Migrator->Illuminate/Database/Migrations/{closure}()
#10 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(253): Illuminate/Database/Migrations/Migrator->runMigration(Object(Illuminate/Database/Migrations/Migration@anonymous), 'up')
#11 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/View/Components/Task.php(41): Illuminate/Database/Migrations/Migrator->Illuminate/Database/Migrations/{closure}()
#12 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(812): Illuminate/Console/View/Components/Task->render('2026_01_28_1429...', Object(Closure))
#13 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(253): Illuminate/Database/Migrations/Migrator->write('Illuminate//Cons...', '2026_01_28_1429...', Object(Closure))
#14 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(211): Illuminate/Database/Migrations/Migrator->runUp('D://Workspace//zd...', 1, false)
#15 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(138): Illuminate/Database/Migrations/Migrator->runPending(Array, Array)
#16 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(116): Illuminate/Database/Migrations/Migrator->run(Array, Array)
#17 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(669): Illuminate/Database/Console/Migrations/MigrateCommand->Illuminate/Database/Console/Migrations/{closure}()
#18 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(109): Illuminate/Database/Migrations/Migrator->usingConnection(NULL, Object(Closure))
#19 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(88): Illuminate/Database/Console/Migrations/MigrateCommand->runMigrations()
#20 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate/Database/Console/Migrations/MigrateCommand->handle()
#21 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/Util.php(43): Illuminate/Container/BoundMethod::Illuminate/Container/{closure}()
#22 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(96): Illuminate/Container/Util::unwrapIfClosure(Object(Closure))
#23 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate/Container/BoundMethod::callBoundMethod(Object(Illuminate/Foundation/Application), Array, Object(Closure))
#24 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/Container.php(799): Illuminate/Container/BoundMethod::call(Object(Illuminate/Foundation/Application), Array, Array, NULL)
#25 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate/Container/Container->call(Array)
#26 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Command/Command.php(341): Illuminate/Console/Command->execute(Object(Symfony/Component/Console/Input/ArgvInput), Object(Illuminate/Console/OutputStyle))
#27 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony/Component/Console/Command/Command->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Illuminate/Console/OutputStyle))
#28 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(1102): Illuminate/Console/Command->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#29 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(356): Symfony/Component/Console/Application->doRunCommand(Object(Illuminate/Database/Console/Migrations/MigrateCommand), Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#30 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(195): Symfony/Component/Console/Application->doRun(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#31 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(198): Symfony/Component/Console/Application->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#32 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1235): Illuminate/Foundation/Console/Kernel->handle(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#33 D:/Workspace/zdream.vn3/backend/artisan(16): Illuminate/Foundation/Application->handleCommand(Object(Symfony/Component/Console/Input/ArgvInput))
#34 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1005 Can't create table `zdream`.`generated_images` (errno: 150 \"Foreign key constraint is incorrectly formed\") at D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php:584)
[stacktrace]
#0 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(584): PDOStatement->execute()
#1 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(827): Illuminate/Database/Connection->Illuminate/Database/{closure}('alter table `ge...', Array)
#2 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(794): Illuminate/Database/Connection->runQueryCallback('alter table `ge...', Array, Object(Closure))
#3 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Connection.php(573): Illuminate/Database/Connection->run('alter table `ge...', Array, Object(Closure))
#4 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Blueprint.php(121): Illuminate/Database/Connection->statement('alter table `ge...')
#5 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php(684): Illuminate/Database/Schema/Blueprint->build()
#6 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php(506): Illuminate/Database/Schema/Builder->build(Object(Illuminate/Database/Schema/Blueprint))
#7 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(363): Illuminate/Database/Schema/Builder->create('generated_image...', Object(Closure))
#8 D:/Workspace/zdream.vn3/backend/database/migrations/2026_01_28_142934_create_generated_images_table.php(11): Illuminate/Support/Facades/Facade::__callStatic('create', Array)
#9 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(517): Illuminate/Database/Migrations/Migration@anonymous->up()
#10 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(442): Illuminate/Database/Migrations/Migrator->runMethod(Object(Illuminate/Database/MySqlConnection), Object(Illuminate/Database/Migrations/Migration@anonymous), 'up')
#11 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(451): Illuminate/Database/Migrations/Migrator->Illuminate/Database/Migrations/{closure}()
#12 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(253): Illuminate/Database/Migrations/Migrator->runMigration(Object(Illuminate/Database/Migrations/Migration@anonymous), 'up')
#13 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/View/Components/Task.php(41): Illuminate/Database/Migrations/Migrator->Illuminate/Database/Migrations/{closure}()
#14 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(812): Illuminate/Console/View/Components/Task->render('2026_01_28_1429...', Object(Closure))
#15 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(253): Illuminate/Database/Migrations/Migrator->write('Illuminate//Cons...', '2026_01_28_1429...', Object(Closure))
#16 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(211): Illuminate/Database/Migrations/Migrator->runUp('D://Workspace//zd...', 1, false)
#17 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(138): Illuminate/Database/Migrations/Migrator->runPending(Array, Array)
#18 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(116): Illuminate/Database/Migrations/Migrator->run(Array, Array)
#19 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php(669): Illuminate/Database/Console/Migrations/MigrateCommand->Illuminate/Database/Console/Migrations/{closure}()
#20 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(109): Illuminate/Database/Migrations/Migrator->usingConnection(NULL, Object(Closure))
#21 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php(88): Illuminate/Database/Console/Migrations/MigrateCommand->runMigrations()
#22 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate/Database/Console/Migrations/MigrateCommand->handle()
#23 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/Util.php(43): Illuminate/Container/BoundMethod::Illuminate/Container/{closure}()
#24 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(96): Illuminate/Container/Util::unwrapIfClosure(Object(Closure))
#25 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate/Container/BoundMethod::callBoundMethod(Object(Illuminate/Foundation/Application), Array, Object(Closure))
#26 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Container/Container.php(799): Illuminate/Container/BoundMethod::call(Object(Illuminate/Foundation/Application), Array, Array, NULL)
#27 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate/Container/Container->call(Array)
#28 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Command/Command.php(341): Illuminate/Console/Command->execute(Object(Symfony/Component/Console/Input/ArgvInput), Object(Illuminate/Console/OutputStyle))
#29 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony/Component/Console/Command/Command->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Illuminate/Console/OutputStyle))
#30 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(1102): Illuminate/Console/Command->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#31 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(356): Symfony/Component/Console/Application->doRunCommand(Object(Illuminate/Database/Console/Migrations/MigrateCommand), Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#32 D:/Workspace/zdream.vn3/backend/vendor/symfony/console/Application.php(195): Symfony/Component/Console/Application->doRun(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#33 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(198): Symfony/Component/Console/Application->run(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#34 D:/Workspace/zdream.vn3/backend/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1235): Illuminate/Foundation/Console/Kernel->handle(Object(Symfony/Component/Console/Input/ArgvInput), Object(Symfony/Component/Console/Output/ConsoleOutput))
#35 D:/Workspace/zdream.vn3/backend/artisan(16): Illuminate/Foundation/Application->handleCommand(Object(Symfony/Component/Console/Input/ArgvInput))
#36 {main}
"} 
